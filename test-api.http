### APIテスト用ファイル (VS Code REST Client用)
### 使い方: VS Code でこのファイルを開き、各リクエストの上にある「Send Request」をクリック

@baseUrl = http://localhost:3000
@adminToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImVtYWlsIjoiYWRtaW5Ab211a29yby5sb2NhbCIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTc1MzYxMDc5OSwiZXhwIjoxNzUzNjk3MTk5fQ.O5rOQWeI5vlNL0Dh4M5o-XNioYxZZHZKLakrE61kvxs
@userToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjIsImVtYWlsIjoidXNlckBvbXVrb3JvLmxvY2FsIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NTM2MTEwNzEsImV4cCI6MTc1MzY5NzQ3MX0.G3nBWTksMBQ7UZaVqHb-CE9wvMmMRt6aXsBWo7OZgQQ

### 1. 管理者ログイン（成功）
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "admin@omukoro.local",
  "password": "admin123"
}

### 2. 一般ユーザーログイン（成功）
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "user@omukoro.local",
  "password": "user12345"
}

### 3. ログイン失敗（間違ったパスワード）
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "admin@omukoro.local",
  "password": "wrongpassword"
}

### 4. ログイン失敗（存在しないユーザー）
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "notfound@omukoro.local",
  "password": "admin123"
}

### 5. バリデーションエラー（短すぎるパスワード）
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "admin@omukoro.local",
  "password": "123"
}

### 6. バリデーションエラー（無効なメール形式）
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "invalid-email",
  "password": "admin123"
}

### 7. バリデーションエラー（パスワードに英字なし）
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "admin@omukoro.local",
  "password": "12345678"
}

### 8. ユーザー情報取得（要認証）
### 注意: まずログインしてトークンを取得し、{{adminToken}} を実際のトークンに置き換えてください
GET {{baseUrl}}/api/user/me
Authorization: Bearer {{adminToken}}

### 9. ユーザー情報取得（無効なトークン）
GET {{baseUrl}}/api/user/me
Authorization: Bearer invalid_token_here

### 10. ユーザー情報取得（トークンなし）
GET {{baseUrl}}/api/user/me

### 11. ログアウト（正常）
POST {{baseUrl}}/api/auth/logout
Authorization: Bearer {{adminToken}}

### 12. ログアウト（無効なトークン）
POST {{baseUrl}}/api/auth/logout
Authorization: Bearer invalid_token_here

### 13. 許可されていないHTTPメソッド（ログインでGET）
GET {{baseUrl}}/api/auth/login

### 14. 許可されていないHTTPメソッド（ユーザー情報でPOST）
POST {{baseUrl}}/api/user/me
Authorization: Bearer {{adminToken}}